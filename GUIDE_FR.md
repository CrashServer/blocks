# Blocks - Guide d'utilisation

Bienvenue dans **Blocks**, un logiciel de mod√©lisation 3D bas√© sur des blocs. Ce guide vous accompagnera dans la d√©couverte de toutes les fonctionnalit√©s de l'application.

---

## Table des mati√®res

1. [Pr√©sentation g√©n√©rale](#pr√©sentation-g√©n√©rale)
2. [Navigation dans la sc√®ne](#navigation-dans-la-sc√®ne)
3. [Les outils](#les-outils)
4. [Les types de blocs](#les-types-de-blocs)
5. [Couleurs et effets lumineux](#couleurs-et-effets-lumineux)
6. [Syst√®me de calques](#syst√®me-de-calques)
7. [Animation](#animation)
8. [Rendu stylis√©](#rendu-stylis√©)
9. [Sauvegarde et exportation](#sauvegarde-et-exportation)
10. [Raccourcis clavier](#raccourcis-clavier)
11. [Astuces](#astuces)

---

## Pr√©sentation g√©n√©rale

Blocks est un √©diteur de mod√®les 3D qui fonctionne sur le principe de placement de blocs sur une grille. Vous pouvez cr√©er des structures, des b√¢timents, des v√©hicules ou tout autre objet en assemblant diff√©rentes formes de blocs.

### L'interface

L'interface se compose de plusieurs zones :

- **Barre de menu sup√©rieure** : Nouveau projet, Sauvegarde, Chargement, Export, Annuler/R√©tablir
- **Barre d'outils √† gauche** : Outils de cr√©ation et palette de blocs
- **Panneau droit** : Vue, couleurs, effets lumineux, calques et propri√©t√©s
- **Timeline en bas** : Syst√®me d'animation (masquable)
- **Barre d'√©tat** : Position de la grille, nombre de blocs, aide contextuelle

---

## Navigation dans la sc√®ne

### Contr√¥les de la cam√©ra

| Action | Contr√¥le |
|--------|----------|
| **Orbiter** (rotation autour de la sc√®ne) | Clic droit + glisser |
| **Zoom** | Molette de la souris |
| **Pan** (d√©placement lat√©ral) | Clic molette + glisser |

### Vues pr√©d√©finies

Le panneau droit contient des boutons de vue rapide :

- **F** : Vue de face
- **B** : Vue arri√®re
- **L** : Vue gauche
- **R** : Vue droite
- **T** : Vue du dessus
- **3D** : Vue isom√©trique

Vous pouvez √©galement **sauvegarder vos propres vues** en cliquant sur "Save View". Vos vues personnalis√©es appara√Ætront en dessous et pourront √™tre supprim√©es avec le bouton "√ó".

---

## Les outils

La barre d'outils √† gauche propose 6 outils principaux, accessibles par clic ou par les touches **1 √† 6** :

### 1. Placer (+)
Place un bloc √† l'endroit vis√©. Le bloc fant√¥me (transparent) vous montre o√π le bloc sera plac√©.

**Astuces** :
- Maintenez **Shift** et cliquez pour tracer une ligne de blocs jusqu'au dernier bloc plac√©
- Le bloc se place sur la face du bloc existant que vous visez

### 2. Supprimer (‚àí)
Supprime le bloc sur lequel vous cliquez.

**Alternative** : Clic molette supprime √©galement un bloc, quel que soit l'outil actif.

### 3. S√©lectionner (‚óª)
Permet de s√©lectionner un ou plusieurs blocs pour les modifier.

- **Clic simple** : S√©lectionne un seul bloc
- **Ctrl + Clic** : Ajoute/retire un bloc de la s√©lection
- **Shift + Clic** : S√©lection par zone rectangulaire

Une fois s√©lectionn√©, un bloc affiche ses propri√©t√©s dans le panneau droit et peut √™tre d√©plac√© avec les fl√®ches directionnelles.

### 4. Peindre (üñå)
Change la couleur des blocs existants.

Deux modes disponibles :
- **Face** : Peint uniquement la face cliqu√©e
- **Block** : Peint tout le bloc

### 5. Pipette (üíâ)
R√©cup√®re la couleur du bloc cliqu√© et l'applique comme couleur courante.

### 6. Forme (‚óç)
Outil de cr√©ation de formes en 3D. Plusieurs formes sont disponibles :

| Forme | Description |
|-------|-------------|
| **Sph√®re** (‚óè) | Sph√®re remplie de blocs |
| **Cube plein** (‚ñ†) | Cube rempli de blocs |
| **Cube creux** (‚ñ°) | Cube avec seulement les faces ext√©rieures |
| **Cylindre** (‚óØ) | Cylindre rempli |
| **Disque** (‚óâ) | Disque plat |
| **Cercle** (‚óã) | Cercle vide (anneau) |
| **D√¥me** (‚ó†) | Demi-sph√®re |
| **Ligne 3D** (‚ï±) | Ligne de blocs entre deux points |
| **Mur** (‚ñ≠) | Mur rectangulaire |

Pour utiliser : cliquez pour d√©finir le centre, puis d√©placez la souris pour ajuster la taille et cliquez √† nouveau pour valider.

### Rotation

Le bouton **‚Üª** (ou touche **R**) fait pivoter le bloc courant de 90¬∞ avant de le placer.

### Miroir

Les boutons **X**, **Y**, **Z** permettent de dupliquer les blocs s√©lectionn√©s en miroir sur l'axe choisi.

---

## Les types de blocs

La palette de blocs est organis√©e par cat√©gories. Utilisez la **barre de recherche** pour trouver rapidement un bloc.

### Cat√©gories disponibles

| Cat√©gorie | Description |
|-----------|-------------|
| **Basic** | Cubes, dalles, quarts, plateformes |
| **Pillars** | Piliers de diff√©rentes tailles |
| **Beams** | Poutres horizontales |
| **Walls** | Murs, panneaux, coins |
| **Wedges** | Formes inclin√©es et pentes |
| **Triangles** | Prismes triangulaires, t√©tra√®dres |
| **Stairs** | Escaliers et marches |
| **Shapes** | Cylindres, sph√®res, c√¥nes, d√¥mes |
| **Arches** | Arcs de diff√©rents styles |
| **Pipes** | Tuyaux et coudes |
| **Decorative** | Croix, cadres, cl√¥tures, balustrades |
| **Details** | Corniches, goutti√®res, encadrements |
| **Architectural** | Colonnes, chemin√©es, contreforts |
| **Covers** | Auvents, pergolas, b√¢ches |
| **Furniture** | Bancs, tables, chaises, √©chelles |
| **Storage** | Caisses, palettes, armoires |
| **Industrial** | R√©servoirs, vannes, grilles |
| **Electrical** | Conduits, c√¢bles, bo√Ætiers √©lectriques |
| **Natural** | Rochers, buissons, troncs |
| **Modern** | Climatiseurs, panneaux solaires, antennes |
| **Extra Shapes** | Hexagones, cristaux, formes arrondies |
| **Ramps** | Rampes droites et courbes |
| **Roofs** | Toits, fa√Ætages, pignons |
| **Channels** | Canaux, grilles d'√©vacuation |
| **Medieval** | Torches, cha√Ænes, boucliers, banni√®res |
| **Vehicles** | Roues, ailes, h√©lices |
| **Oil & Gas** | Derricks, pompes, pipelines |

---

## Couleurs et effets lumineux

### Palette de couleurs

- **S√©lecteur de couleur** : Cliquez sur le carr√© color√© pour choisir n'importe quelle couleur
- **Palette rapide** : Couleurs pr√©d√©finies pour un acc√®s rapide

### Effets lumineux (Glow/Emissive)

Rendez vos blocs lumineux avec l'option "Emissive" :

1. Cochez **Enable Glow**
2. Choisissez la **couleur de lueur**
3. R√©glez l'**intensit√©** (0.1 √† 5.0)
4. R√©glez le **rayon** d'effet (1 √† 10)

Les blocs √©missifs brillent dans la sc√®ne et peuvent illuminer les blocs environnants lors du "bake" de lumi√®re.

---

## Syst√®me de calques

Les calques permettent d'organiser votre cr√©ation en groupes s√©par√©s.

### Utilisation

- **+ (Ajouter)** : Cr√©e un nouveau calque
- **Visibilit√©** (≈ìil) : Masque/affiche tous les blocs du calque
- **S√©lection** : Le calque actif (surlign√©) re√ßoit les nouveaux blocs

Les calques sont utiles pour :
- Travailler sur diff√©rentes parties d'un mod√®le s√©par√©ment
- Masquer temporairement des √©l√©ments pour mieux voir
- Organiser des √©l√©ments complexes

---

## Animation

Le syst√®me de timeline permet de cr√©er des animations par images-cl√©s (keyframes).

### Cr√©er une animation

1. Cliquez sur **+ Anim** pour cr√©er une nouvelle animation
2. Nommez votre animation dans le menu d√©roulant
3. S√©lectionnez le(s) bloc(s) √† animer

### Ajouter des images-cl√©s

1. Positionnez le curseur de temps (scrubber) √† l'instant voulu
2. D√©placez/modifiez le bloc s√©lectionn√©
3. Appuyez sur **K** (ou **+**) pour ajouter une image-cl√©

### Lecture

| Bouton | Action |
|--------|--------|
| **‚ñ∂** | Lecture / Pause (Espace) |
| **‚ñ†** | Stop (retour au d√©but) |
| **Loop** | R√©p√©ter l'animation |
| **Vitesse** | 0.25x √† 4x |

### Param√®tres

- **Duration** : Dur√©e totale de l'animation en millisecondes
- Les marqueurs sur la timeline indiquent les images-cl√©s existantes

---

## Rendu stylis√©

La section "Stylized Render" permet de visualiser votre cr√©ation avec diff√©rents styles artistiques, parfaits pour l'export d'images.

### Activer le rendu stylis√©

Cochez **Enable Stylized View** pour activer la superposition du rendu.

### Styles disponibles

| Style | Description |
|-------|-------------|
| **Clean** | Lignes nettes et remplissages unis |
| **Sketch** | Style croquis avec traits tremblants et texture papier |
| **Ink** | Encre avec traits d'√©paisseur variable |
| **Cross-Hatch** | Hachures pour les ombrages |
| **Blueprint** | Style plan technique avec grille |
| **Comic** | Style bande dessin√©e avec trames |

### Options

- **Invert Colors** : Inverse les couleurs (fond noir, traits blancs)
- **Grayscale** : Rendu en niveaux de gris
- **Show Fills** : Affiche/masque les remplissages de faces
- **Threshold** : Seuil pour le contraste noir/blanc
- **Line Width** : √âpaisseur des traits

### Export

- **Save PNG** : Sauvegarde l'image courante
- **Export SVG** : Exporte en format vectoriel (id√©al pour impression grande taille)

### Aplatir les blocs

Le bouton **Flatten Blocks** fusionne les blocs qui se touchent en un seul mesh. Cela :
- Simplifie la g√©om√©trie
- Supprime les faces internes
- Cr√©e des contours plus nets pour l'export

**Attention** : Cette op√©ration est irr√©versible !

---

## Sauvegarde et exportation

### Barre de menu

| Bouton | Action |
|--------|--------|
| **New** | Nouveau projet (efface tout) |
| **Save** | Sauvegarde au format .blocks (JSON) |
| **Load** | Charge un fichier .blocks |
| **Clear** | Efface tous les blocs |
| **Templates** | Parcourir les mod√®les pr√©d√©finis |

### Export 3D

Le bouton **Export** ouvre les options d'exportation :

#### Format
- **GLB** (binaire) : Format compact, recommand√©
- **GLTF** (JSON) : Format texte, lisible

#### Optimisations

| Option | Description |
|--------|-------------|
| **Cull hidden faces** | Supprime les faces entre blocs adjacents |
| **Merge adjacent cubes** | Fusionne les cubes de m√™me couleur |
| **Batch by material** | Groupe par couleur (moins d'appels de rendu) |
| **Deduplicate vertices** | Fusionne les sommets en double |
| **Merge all into single mesh** | Combine tout en un seul mesh |
| **Use GPU instancing** | Optimisation pour beaucoup de blocs identiques |

#### Inclure

- **Animations** : Exporte les animations cr√©√©es
- **Baked lighting texture** : Inclut l'√©clairage pr√©calcul√©

### Bake de lumi√®re

Le bouton **Bake Light** pr√©calcule l'√©clairage ambiant :
- Cr√©e des ombres douces dans les recoins
- Ajoute de l'occlusion ambiante
- Prend en compte les blocs √©missifs

Utilisez **Clear Bake** pour revenir √† l'√©clairage par d√©faut.

---

## Raccourcis clavier

### Outils

| Touche | Action |
|--------|--------|
| **1** | Outil Placer |
| **2** | Outil Supprimer |
| **3** | Outil S√©lectionner |
| **4** | Outil Peindre |
| **5** | Outil Pipette |
| **6** | Outil Forme |
| **R** | Rotation du bloc (90¬∞) |

### √âdition

| Touche | Action |
|--------|--------|
| **Ctrl + Z** | Annuler |
| **Ctrl + Y** | R√©tablir |
| **Ctrl + C** | Copier la s√©lection |
| **Ctrl + V** | Coller |
| **Suppr / Backspace** | Supprimer la s√©lection |

### D√©placement de la s√©lection

| Touche | Action |
|--------|--------|
| **Fl√®che Haut** | D√©placer vers -Z |
| **Fl√®che Bas** | D√©placer vers +Z |
| **Fl√®che Gauche** | D√©placer vers -X |
| **Fl√®che Droite** | D√©placer vers +X |
| **Page Haut** | D√©placer vers +Y (monter) |
| **Page Bas** | D√©placer vers -Y (descendre) |

### Animation

| Touche | Action |
|--------|--------|
| **Espace** | Lecture / Pause |
| **K** ou **+** | Ajouter une image-cl√© |
| **-** | Supprimer l'image-cl√© |

### Souris

| Action | Contr√¥le |
|--------|----------|
| **Clic gauche** | Action de l'outil courant |
| **Shift + Clic gauche** | Tracer une ligne / s√©lection rectangle |
| **Ctrl + Clic gauche** | Ajouter/retirer de la s√©lection |
| **Clic molette** | Supprimer un bloc |
| **Clic droit + glisser** | Orbiter la cam√©ra |
| **Molette** | Zoom |

---

## Astuces

### Construction efficace

1. **Commencez simple** : Placez d'abord la structure de base avec des cubes, puis affinez avec des formes d√©taill√©es.

2. **Utilisez les calques** : S√©parez le sol, les murs et le toit sur diff√©rents calques pour travailler plus facilement.

3. **Tracez des lignes** : Maintenez Shift pour tracer rapidement des murs ou des rang√©es de blocs.

4. **Copiez vos structures** : S√©lectionnez un groupe de blocs, copiez (Ctrl+C) et collez (Ctrl+V) pour dupliquer.

### Performance

- Le logiciel sauvegarde automatiquement votre travail dans le navigateur
- Pour les grandes sc√®nes, masquez les calques non utilis√©s
- L'option "Flatten Blocks" simplifie la g√©om√©trie pour l'export

### Export pour l'impression

1. Activez le rendu stylis√© en mode **Clean** ou **Ink**
2. Ajustez l'√©paisseur des lignes
3. Exportez en **SVG** pour une qualit√© vectorielle

### Export pour jeux/3D

1. Activez toutes les optimisations dans le dialogue d'export
2. Le format **GLB** est le plus compatible
3. Le "Bake Light" ajoute de la profondeur sans co√ªt de performance

---

## Support

Ce logiciel est en d√©veloppement actif. N'h√©sitez pas √† exp√©rimenter avec toutes les fonctionnalit√©s !

---

*Guide r√©dig√© pour Blocks v0.1.0*
